(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{fd78:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"create-task q-pa-md",staticStyle:{"max-width":"400px"}},[n("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[n("q-input",{attrs:{filled:"",label:this.login?"Login:":"Login: user_"+this.currentOrdinalNumber},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),n("q-input",{attrs:{type:t.isPwdVisible?"text":"password",label:"Пароль: *",rules:[function(e){return!!e||"* Поле обязательно для заполнения"},function(e){return e.length>5||"* Пароль должен быть больше пяти символов"}],"lazy-rules":""},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwdVisible?"visibility_off":"visibility"},on:{click:function(e){t.isPwdVisible=!t.isPwdVisible}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("q-input",{attrs:{type:t.isPwdVisible?"text":"password",label:"Подтверждение пароля: *",rules:[function(e){return!!e||"Поле не может быть пустым"},function(t){return t===e.password||"* Пароли не совпадают"}],"lazy-rules":""},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwdVisible?"visibility_off":"visibility"},on:{click:function(e){t.isPwdVisible=!t.isPwdVisible}}})]},proxy:!0}]),model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),n("q-input",{attrs:{filled:"",label:"Имя: *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Поле не может быть пустым"}]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("q-input",{attrs:{filled:"",label:"Фамилия: *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Поле не может быть пустым"}]},model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}}),n("q-input",{attrs:{filled:"",label:"E-mail: *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Поле не может быть пустым"}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("q-input",{attrs:{filled:"",label:"Телефон: *",mask:"+7(###)###-##-##","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Поле не может быть пустым"},function(e){return e.length>15||"* Проверьте правильность указаного номера"}]},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("q-select",{attrs:{filled:"",options:t.getDepartments(),label:"Отдел: *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Поле не может быть пустым"}]},model:{value:t.department,callback:function(e){t.department=e},expression:"department"}}),"Без отдела"!==t.department?n("q-checkbox",{attrs:{filled:"",label:"Назначить руководителем отдела"},model:{value:t.isDepartmentHead,callback:function(e){t.isDepartmentHead=e},expression:"isDepartmentHead"}}):t._e(),n("q-select",{attrs:{filled:"",multiple:"",options:["СуперАдмин","Админ","Пользователь","Гость"],label:"Роль: *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Поле не может быть пустым"}]},model:{value:t.roles,callback:function(e){t.roles=e},expression:"roles"}}),n("div",[n("q-btn",{staticClass:"q-mr-sm",attrs:{type:"submit",label:"Создать"}}),n("q-btn",{attrs:{type:"reset",label:"Очистить"}})],1)],1)],1)},i=[],l=(s("ddb0"),s("2f62"));function r(e){let t=[];return e.forEach((e=>{"СуперАдмин"===e?t.push("superadmin"):"Админ"===e?t.push("admin"):"Пользователь"===e?t.push("user"):t.push("quest")})),t}var a={name:"CreateUser",data(){return{isPwdVisible:!1,login:"",password:"000000",confirmPassword:"000000",name:"Юрий",surname:"Бевов",department:"Без отдела",isDepartmentHead:!1,email:"test",phone:"123456789",roles:[]}},computed:{...Object(l["c"])("user",["currentOrdinalNumber"]),...Object(l["c"])("department",["departmentList"])},methods:{...Object(l["b"])("user",["CREATE_USER"]),getDepartments(){let e=[];return this.departmentList.forEach((t=>{e.push(t.title)})),["Без отдела",...e]},onSubmit(){let e=r(this.roles);this.CREATE_USER({ordinalNumber:this.currentOrdinalNumber,login:this.login.length?this.login:"user_"+this.currentOrdinalNumber,password:this.password,confirmPassword:this.confirmPassword,name:this.name,surname:this.surname,fullName:this.name+" "+this.surname,department:this.department,isDepartmentHead:this.isDepartmentHead,email:this.email,phone:this.phone,roles:e,created:new Date})},onReset(){this.login="",this.password="",this.confirmPassword="",this.name="",this.surname="",this.department="",this.email="",this.phone="",this.roles=[]}}},o=a,u=s("2877"),c=Object(u["a"])(o,n,i,!1,null,null,null);t["default"]=c.exports}}]);